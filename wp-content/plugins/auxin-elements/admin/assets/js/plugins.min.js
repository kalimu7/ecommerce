"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(u){"use strict";if(void 0!==u)if(u.fn.jquery.match(/-ajax/))"console"in window&&window.console.info("Featherlight needs regular jQuery, not the slim version.");else{var a=[],s=function(t){return a=u.grep(a,function(e){return e!==t&&0<e.$instance.closest("body").length})},i={allowfullscreen:1,frameborder:1,height:1,longdesc:1,marginheight:1,marginwidth:1,name:1,referrerpolicy:1,scrolling:1,sandbox:1,src:1,srcdoc:1,width:1},n={keyup:"onKeyUp",resize:"onResize"},o=function(e){u.each(l.opened().reverse(),function(){if(!e.isDefaultPrevented()&&!1===this[n[e.type]](e))return e.preventDefault(),e.stopPropagation(),!1})},r=function(e){if(e!==l._globalHandlerInstalled){l._globalHandlerInstalled=e;var t=u.map(n,function(e,t){return t+"."+l.prototype.namespace}).join(" ");u(window)[e?"on":"off"](t,o)}};l.prototype={constructor:l,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:u.noop,beforeContent:u.noop,beforeClose:u.noop,afterOpen:u.noop,afterContent:u.noop,afterClose:u.noop,onKeyUp:u.noop,onResize:u.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(e,t){"object"!=typeof e||e instanceof u!=!1||t||(t=e,e=void 0);var n=u.extend(this,t,{target:e}),a=n.resetCss?n.namespace+"-reset":n.namespace,s=u(n.background||['<div class="'+a+"-loading "+a+'">','<div class="'+a+'-content">','<button class="'+a+"-close-icon "+n.namespace+'-close" aria-label="Close">',n.closeIcon,"</button>",'<div class="'+n.namespace+'-inner">'+n.loading+"</div>","</div>","</div>"].join("")),i="."+n.namespace+"-close"+(n.otherClose?","+n.otherClose:"");return n.$instance=s.clone().addClass(n.variant),n.$instance.on(n.closeTrigger+"."+n.namespace,function(e){if(!e.isDefaultPrevented()){var t=u(e.target);("background"===n.closeOnClick&&t.is("."+n.namespace)||"anywhere"===n.closeOnClick||t.closest(i).length)&&(n.close(e),e.preventDefault())}}),this},getContent:function(){if(!1!==this.persist&&this.$content)return this.$content;var t=this,e=this.constructor.contentFilters,n=function(e){return t.$currentTarget&&t.$currentTarget.attr(e)},a=n(t.targetAttr),s=t.target||a||"",i=e[t.type];if(!i&&s in e&&(i=e[s],s=t.target&&a),s=s||n("href")||"",!i)for(var o in e)t[o]&&(i=e[o],s=t[o]);if(!i){var r=s;if(s=null,u.each(t.contentFilters,function(){return(i=e[this]).test&&(s=i.test(r)),!s&&i.regex&&r.match&&r.match(i.regex)&&(s=r),!s}),!s)return"console"in window&&window.console.error("Featherlight: no content filter found "+(r?' for "'+r+'"':" (no target specified)")),!1}return i.process.call(t,s)},setContent:function(e){return this.$instance.removeClass(this.namespace+"-loading"),this.$instance.toggleClass(this.namespace+"-iframe",e.is("iframe")),this.$instance.find("."+this.namespace+"-inner").not(e).slice(1).remove().end().replaceWith(u.contains(this.$instance[0],e[0])?"":e),this.$content=e.addClass(this.namespace+"-inner"),this},open:function(t){var n=this;if(n.$instance.hide().appendTo(n.root),!(t&&t.isDefaultPrevented()||!1===n.beforeOpen(t))){t&&t.preventDefault();var e=n.getContent();if(e)return a.push(n),r(!0),n.$instance.fadeIn(n.openSpeed),n.beforeContent(t),u.when(e).always(function(e){n.setContent(e),n.afterContent(t)}).then(n.$instance.promise()).done(function(){n.afterOpen(t)})}return n.$instance.detach(),u.Deferred().reject().promise()},close:function(e){var t=this,n=u.Deferred();return!1===t.beforeClose(e)?n.reject():(0===s(t).length&&r(!1),t.$instance.fadeOut(t.closeSpeed,function(){t.$instance.detach(),t.afterClose(e),n.resolve()})),n.promise()},resize:function(e,t){if(e&&t){this.$content.css("width","").css("height","");var n=Math.max(e/(this.$content.parent().width()-1),t/(this.$content.parent().height()-1));1<n&&(n=t/Math.floor(t/n),this.$content.css("width",e/n+"px").css("height",t/n+"px"))}},chainCallbacks:function(e){for(var t in e)this[t]=e[t].bind(this,this[t].bind(this))}},u.extend(l,{id:0,autoBind:"[data-featherlight]",defaults:l.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(e){return e instanceof u&&e},process:function(e){return!1!==this.persist?u(e):u(e).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff?|bmp|svg)(\?\S*)?$/i,process:function(e){var t=u.Deferred(),n=new Image,a=u('<img src="'+e+'" alt="" class="'+this.namespace+'-image" />');return n.onload=function(){a.naturalWidth=n.width,a.naturalHeight=n.height,t.resolve(a)},n.onerror=function(){t.reject(a)},n.src=e,t.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(e){return u(e)}},ajax:{regex:/./,process:function(e){var n=u.Deferred(),a=u("<div></div>").load(e,function(e,t){"error"!==t&&n.resolve(a.contents()),n.fail()});return n.promise()}},iframe:{process:function(e){var t=new u.Deferred,n=u("<iframe/>"),a=function(e,t){var n={},a=new RegExp("^"+t+"([A-Z])(.*)");for(var s in e){var i=s.match(a);i&&(n[(i[1]+i[2].replace(/([A-Z])/g,"-$1")).toLowerCase()]=e[s])}return n}(this,"iframe"),s=function(e,t){var n={};for(var a in e)a in t&&(n[a]=e[a],delete e[a]);return n}(a,i);return n.hide().attr("src",e).attr(s).css(a).on("load",function(){t.resolve(n.show())}).appendTo(this.$instance.find("."+this.namespace+"-content")),t.promise()}},text:{process:function(e){return u("<div>",{text:e})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(e,t){var a=this,s=new RegExp("^data-"+t+"-(.*)"),i={};return e&&e.attributes&&u.each(e.attributes,function(){var e=this.name.match(s);if(e){var t=this.value,n=u.camelCase(e[1]);if(0<=u.inArray(n,a.functionAttributes))t=new Function(t);else try{t=JSON.parse(t)}catch(e){}i[n]=t}}),i},extend:function(e,t){var n=function(){this.constructor=e};return n.prototype=this.prototype,e.prototype=new n,e.__super__=this.prototype,u.extend(e,this,t),e.defaults=e.prototype,e},attach:function(s,i,o){var r=this;"object"!=typeof i||i instanceof u!=!1||o||(o=i,i=void 0);var l,e=(o=u.extend({},o)).namespace||r.defaults.namespace,c=u.extend({},r.defaults,r.readElementConfig(s[0],e),o),t=function(e){var t=u(e.currentTarget),n=u.extend({$source:s,$currentTarget:t},r.readElementConfig(s[0],c.namespace),r.readElementConfig(e.currentTarget,c.namespace),o),a=l||t.data("featherlight-persisted")||new r(i,n);"shared"===a.persist?l=a:!1!==a.persist&&t.data("featherlight-persisted",a),n.$currentTarget.blur&&n.$currentTarget.blur(),a.open(e)};return s.on(c.openTrigger+"."+c.namespace,c.filter,t),t},current:function(){var e=this.opened();return e[e.length-1]||null},opened:function(){var t=this;return s(),u.grep(a,function(e){return e instanceof t})},close:function(e){var t=this.current();if(t)return t.close(e)},_onReady:function(){var t=this;t.autoBind&&(u(t.autoBind).each(function(){t.attach(u(this))}),u(document).on("click",t.autoBind,function(e){e.isDefaultPrevented()||t.attach(u(e.currentTarget))(e)}))},_callbackChain:{onKeyUp:function(e,t){return 27===t.keyCode?(this.closeOnEsc&&u.featherlight.close(t),!1):e(t)},beforeOpen:function(e,t){return u(document.documentElement).addClass("with-featherlight"),this._previouslyActive=document.activeElement,this._$previouslyTabbable=u("a, input, select, textarea, iframe, button, iframe, [contentEditable=true]").not("[tabindex]").not(this.$instance.find("button")),this._$previouslyWithTabIndex=u("[tabindex]").not('[tabindex="-1"]'),this._previousWithTabIndices=this._$previouslyWithTabIndex.map(function(e,t){return u(t).attr("tabindex")}),this._$previouslyWithTabIndex.add(this._$previouslyTabbable).attr("tabindex",-1),document.activeElement.blur&&document.activeElement.blur(),e(t)},afterClose:function(e,t){var n=e(t),a=this;return this._$previouslyTabbable.removeAttr("tabindex"),this._$previouslyWithTabIndex.each(function(e,t){u(t).attr("tabindex",a._previousWithTabIndices[e])}),this._previouslyActive.focus(),0===l.opened().length&&u(document.documentElement).removeClass("with-featherlight"),n},onResize:function(e,t){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),e(t)},afterContent:function(e,t){var n=e(t);return this.$instance.find("[autofocus]:not([disabled])").focus(),this.onResize(t),n}}}),u.featherlight=l,u.fn.featherlight=function(e,t){return l.attach(this,e,t),this},u(document).ready(function(){l._onReady()})}else"console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery.");function l(e,t){if(!(this instanceof l)){var n=new l(e,t);return n.open(),n}this.id=l.id++,this.setup(e,t),this.chainCallbacks(l._callbackChain)}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(b){"use strict";var t=function(e){return"function"==typeof e},v=b.scrollTo=function(e,t,n){return b(window).scrollTo(e,t,n)};function _(e){return!e.nodeName||-1!==b.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function a(e){return t(e)||b.isPlainObject(e)?e:{top:e,left:e}}return v.defaults={axis:"xy",duration:0,limit:!0},b.fn.scrollTo=function(e,n,g){"object"==typeof n&&(g=n,n=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=b.extend({},v.defaults,g),n=n||g.duration;var x=g.queue&&1<g.axis.length;return x&&(n/=2),g.offset=a(g.offset),g.over=a(g.over),this.each(function(){if(null!==e){var l,c=_(this),u=c?this.contentWindow||window:this,d=b(u),h=e,p={};switch(typeof h){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(h)){h=a(h);break}h=c?b(h):b(h,u);case"object":if(0===h.length)return;(h.is||h.style)&&(l=(h=b(h)).offset())}var f=t(g.offset)&&g.offset(u,h)||g.offset;b.each(g.axis.split(""),function(e,t){var n="x"===t?"Left":"Top",a=n.toLowerCase(),s="scroll"+n,i=d[s](),o=v.max(u,t);if(l)p[s]=l[a]+(c?0:i-d.offset()[a]),g.margin&&(p[s]-=parseInt(h.css("margin"+n),10)||0,p[s]-=parseInt(h.css("border"+n+"Width"),10)||0),p[s]+=f[a]||0,g.over[a]&&(p[s]+=h["x"===t?"width":"height"]()*g.over[a]);else{var r=h[a];p[s]=r.slice&&"%"===r.slice(-1)?parseFloat(r)/100*o:r}g.limit&&/^\d+$/.test(p[s])&&(p[s]=p[s]<=0?0:Math.min(p[s],o)),!e&&1<g.axis.length&&(i===p[s]?p={}:x&&(m(g.onAfterFirst),p={}))}),m(g.onAfter)}function m(e){var t=b.extend({},g,{queue:!0,duration:n,complete:e&&function(){e.call(u,h,g)}});d.animate(p,t)}})},v.max=function(e,t){var n="x"===t?"Width":"Height",a="scroll"+n;if(!_(e))return e[a]-b(e)[n.toLowerCase()]();var s="client"+n,i=e.ownerDocument||e.document,o=i.documentElement,r=i.body;return Math.max(o[a],r[a])-Math.min(o[s],r[s])},b.Tween.propHooks.scrollLeft=b.Tween.propHooks.scrollTop={get:function(e){return b(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return b(e.elem).stop();var n=Math.round(e.now);t!==n&&(b(e.elem)[e.prop](n),e._last=this.get(e))}},v}),function(){"use strict";function e(C){C.fn._fadeIn=C.fn.fadeIn;var T=C.noop||function(){},I=/MSIE/.test(navigator.userAgent),$=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),E=(document.documentMode,"function"==typeof document.createElement("div").style.setExpression&&document.createElement("div").style.setExpression);C.blockUI=function(e){n(window,e)},C.unblockUI=function(e){U(window,e)},C.growlUI=function(e,t,n,a){var s=C('<div class="growlUI"></div>');e&&s.append("<h1>"+e+"</h1>"),t&&s.append("<h2>"+t+"</h2>"),void 0===n&&(n=3e3);var i=function(e){e=e||{},C.blockUI({message:s,fadeIn:void 0!==e.fadeIn?e.fadeIn:700,fadeOut:void 0!==e.fadeOut?e.fadeOut:1e3,timeout:void 0!==e.timeout?e.timeout:n,centerY:!1,showOverlay:!1,onUnblock:a,css:C.blockUI.defaults.growlCSS})};i();s.css("opacity");s.on("mouseover",function(){i({fadeIn:0,timeout:3e4});var e=C(".blockMsg");e.stop(),e.fadeTo(300,1)}).on("mouseout",function(){C(".blockMsg").fadeOut(1e3)})},C.fn.block=function(e){if(this[0]===window)return C.blockUI(e),this;var t=C.extend({},C.blockUI.defaults,e||{});return this.each(function(){var e=C(this);t.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==C.css(this,"position")&&(this.style.position="relative",C(this).data("blockUI.static",!0)),this.style.zoom=1,n(this,e)})},C.fn.unblock=function(e){return this[0]===window?(C.unblockUI(e),this):this.each(function(){U(this,e)})},C.blockUI.version=2.7,C.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var A=null,D=[];function n(e,s){var t,n,i=e==window,a=s&&void 0!==s.message?s.message:void 0;if(!(s=C.extend({},C.blockUI.defaults,s||{})).ignoreIfBlocked||!C(e).data("blockUI.isBlocked")){if(s.overlayCSS=C.extend({},C.blockUI.defaults.overlayCSS,s.overlayCSS||{}),t=C.extend({},C.blockUI.defaults.css,s.css||{}),s.onOverlayClick&&(s.overlayCSS.cursor="pointer"),n=C.extend({},C.blockUI.defaults.themedCSS,s.themedCSS||{}),a=void 0===a?s.message:a,i&&A&&U(window,{fadeOut:0}),a&&"string"!=typeof a&&(a.parentNode||a.jquery)){var o=a.jquery?a[0]:a,r={};C(e).data("blockUI.history",r),r.el=o,r.parent=o.parentNode,r.display=o.style.display,r.position=o.style.position,r.parent&&r.parent.removeChild(o)}C(e).data("blockUI.onUnblock",s.onUnblock);var l,c,u,d,h=s.baseZ;l=I||s.forceIframe?C('<iframe class="blockUI" style="z-index:'+h+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+s.iframeSrc+'"></iframe>'):C('<div class="blockUI" style="display:none"></div>'),c=s.theme?C('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+h+++';display:none"></div>'):C('<div class="blockUI blockOverlay" style="z-index:'+h+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),s.theme&&i?(d='<div class="blockUI '+s.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(h+10)+';display:none;position:fixed">',s.title&&(d+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+"</div>"),d+='<div class="ui-widget-content ui-dialog-content"></div>',d+="</div>"):s.theme?(d='<div class="blockUI '+s.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(h+10)+';display:none;position:absolute">',s.title&&(d+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+"</div>"),d+='<div class="ui-widget-content ui-dialog-content"></div>',d+="</div>"):d=i?'<div class="blockUI '+s.blockMsgClass+' blockPage" style="z-index:'+(h+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+s.blockMsgClass+' blockElement" style="z-index:'+(h+10)+';display:none;position:absolute"></div>',u=C(d),a&&(s.theme?(u.css(n),u.addClass("ui-widget-content")):u.css(t)),s.theme||c.css(s.overlayCSS),c.css("position",i?"fixed":"absolute"),(I||s.forceIframe)&&l.css("opacity",0);var p=[l,c,u],f=C(i?"body":e);C.each(p,function(){this.appendTo(f)}),s.theme&&s.draggable&&C.fn.draggable&&u.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var m=E&&(!C.support.boxModel||0<C("object,embed",i?null:e).length);if($||m){if(i&&s.allowBodyStretch&&C.support.boxModel&&C("html,body").css("height","100%"),($||!C.support.boxModel)&&!i)var g=O(e,"borderTopWidth"),x=O(e,"borderLeftWidth"),b=g?"(0 - "+g+")":0,v=x?"(0 - "+x+")":0;C.each(p,function(e,t){var n=t[0].style;if(n.position="absolute",e<2)i?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+s.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),i?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),v&&n.setExpression("left",v),b&&n.setExpression("top",b);else if(s.centerY)i&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!s.centerY&&i){var a="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(s.css&&s.css.top?parseInt(s.css.top,10):0)+') + "px"';n.setExpression("top",a)}})}if(a&&(s.theme?u.find(".ui-widget-content").append(a):u.append(a),(a.jquery||a.nodeType)&&C(a).show()),(I||s.forceIframe)&&s.showOverlay&&l.show(),s.fadeIn){var _=s.onBlock?s.onBlock:T,y=s.showOverlay&&!a?_:T,k=a?_:T;s.showOverlay&&c._fadeIn(s.fadeIn,y),a&&u._fadeIn(s.fadeIn,k)}else s.showOverlay&&c.show(),a&&u.show(),s.onBlock&&s.onBlock.bind(u)();if(j(1,e,s),i?(A=u[0],D=C(s.focusableElements,A),s.focusInput&&setTimeout(S,20)):function(e,t,n){var a=e.parentNode,s=e.style,i=(a.offsetWidth-e.offsetWidth)/2-O(a,"borderLeftWidth"),o=(a.offsetHeight-e.offsetHeight)/2-O(a,"borderTopWidth");t&&(s.left=0<i?i+"px":"0");n&&(s.top=0<o?o+"px":"0")}(u[0],s.centerX,s.centerY),s.timeout){var w=setTimeout(function(){i?C.unblockUI(s):C(e).unblock(s)},s.timeout);C(e).data("blockUI.timeout",w)}}}function U(e,t){var n,a,s=e==window,i=C(e),o=i.data("blockUI.history"),r=i.data("blockUI.timeout");r&&(clearTimeout(r),i.removeData("blockUI.timeout")),t=C.extend({},C.blockUI.defaults,t||{}),j(0,e,t),null===t.onUnblock&&(t.onUnblock=i.data("blockUI.onUnblock"),i.removeData("blockUI.onUnblock")),a=s?C(document.body).children().filter(".blockUI").add("body > .blockUI"):i.find(">.blockUI"),t.cursorReset&&(1<a.length&&(a[1].style.cursor=t.cursorReset),2<a.length&&(a[2].style.cursor=t.cursorReset)),s&&(A=D=null),t.fadeOut?(n=a.length,a.stop().fadeOut(t.fadeOut,function(){0==--n&&l(a,o,t,e)})):l(a,o,t,e)}function l(e,t,n,a){var s=C(a);if(!s.data("blockUI.isBlocked")){e.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),t&&t.el&&(t.el.style.display=t.display,t.el.style.position=t.position,t.el.style.cursor="default",t.parent&&t.parent.appendChild(t.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(a,n);var i=C(document.body),o=i.width(),r=i[0].style.width;i.width(o-1).width(o),i[0].style.width=r}}function j(e,t,n){var a=t==window,s=C(t);if((e||(!a||A)&&(a||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",e),a&&n.bindEvents&&(!e||n.showOverlay))){var i="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?C(document).on(i,n,o):C(document).off(i,o)}}function o(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&A&&e.data.constrainTabKey){var t=D,n=!e.shiftKey&&e.target===t[t.length-1],a=e.shiftKey&&e.target===t[0];if(n||a)return setTimeout(function(){S(a)},10),!1}var s=e.data,i=C(e.target);return i.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(e),0<i.parents("div."+s.blockMsgClass).length||0===i.parents().children().filter("div.blockUI").length}function S(e){if(D){var t=D[!0===e?D.length-1:0];t&&t.trigger("focus")}}function O(e,t){return parseInt(C.css(e,t),10)||0}}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function(r,t,n,e){"use strict";var a="AuxWizard",s={modalClass:".aux-open-modal",loading:aux_setup_params.svg_loader};function i(e,t){this.element=e,this.$element=r(e),this.settings=r.extend({},s,t),this._defaults=s,this._name=a,this.$modalElement=null,this._modalButton=null,this._ajaxData=null,this._ajaxUrl=aux_setup_params.ajaxurl,this._elStorage={},this._importData={},this.$isotopeTemplate=null,this.$isotopeList=null,this.$isotopePlugins=null,this.init()}r.extend(i.prototype,{init:function(){this._callIsotope(),r(".aux-isotope-group").on("change",this._changeGroup.bind(this)),this._openModal(),this._manipulations(),this._lazyloadConfig(),r(n).on("click",".aux-next-step",this._stepManager.bind(this)),r(n).on("click",".aux-install-demo",this._demoManager.bind(this)),r(n).on("click",".aux-uninstall-demo",this._uninstallDemo.bind(this)),r(n).on("click",".aux-copy-template",this._tempManager.bind(this)),r(n).on("click",".install-plugins",this._pluginManager.bind(this)),r(n).on("click",".aux-install-updates",this._updateManager.bind(this)),r(n).on("submit",".auxin-check-purchase",this._activateLicense.bind(this)),r(n).on("click",".aux-refresh-page",this._refresh.bind(this)),r(n).on("click",".aux-verify-elements-token",this._verifyEnvatoElementsToken.bind(this))},_globalAJAX:function(e){r.ajax({url:this._ajaxUrl,type:"post",data:this._ajaxData}).done(e)},_refresh:function(e){void 0!==e.preventDefault&&e.preventDefault(),location.reload()},_activateLicense:function(e){if(e.currentTarget){void 0!==e.preventDefault&&e.preventDefault();var t=r(e.currentTarget),n=t.find(".aux-activate-license"),a=t.find(".aux-notice"),s=null,i={};r.each(t.serializeArray(),function(e,t){i[t.name]=t.value}),a.length||(a=r("<div>",{class:"aux-notice"}).appendTo(t)),this._ajaxData={action:i.action,usermail:i.usermail,purchase:i.purchase,security:i.security},n.addClass("aux-button-loading"),a.removeClass("success warning").hide(),this._controlActions("off"),this._globalAJAX(function(e){null!==e&&e.success?(n.addClass("aux-button-success aux-refresh-page"),a.addClass("success"),s="aux-button-success aux-button-loading",r(this._modalButton).closest(".aux-purchase-activation-notice").fadeOut()):(n.addClass("aux-button-error"),a.addClass("warning"),s="aux-button-error aux-button-loading"),t.removeClass("aux-form-in-progress"),setTimeout(function(){n.removeClass(s),n.find("span").text(e.data.buttonText)},1e3),a.show().html(e.data.message),this._controlActions("on")}.bind(this))}},_openModal:function(){var t=this,e=(r(t.settings.modalClass).featherlight({targetAttr:"href",closeOnEsc:!1,closeOnClick:!1,contentFilters:["ajax"],loading:this.settings.loading,otherClose:".aux-pp-close",afterOpen:function(e){if(r(".featherlight .aux-wizard-plugins").length)new PerfectScrollbar(".featherlight .aux-wizard-plugins");t._modalButton=e.currentTarget,t.$modalElement=this.$instance,r(t._modalButton).hasClass("aux-has-next-action")&&t._tempManager({currentTarget:e.currentTarget})}}),r(".aux-ajax-open-modal").featherlight({targetAttr:"href",contentFilters:["ajax"],otherClose:".aux-pp-close",closeOnClick:!1,loading:this.settings.loading,afterOpen:function(e){t._modalButton=e.currentTarget,t.$modalElement=this.$instance}}));1===e.data("auto-open")&&e.trigger("click")},_changeGroup:function(e){if(e.currentTarget){var t=e.currentTarget.checked?"section":"page";this._ajaxData={action:"aux_isotope_group",group:t,nonce:r(e.currentTarget).data("nonce"),key:"templates_kit"},this._globalAJAX(function(e){null!==e&&e.success?this.$isotopeTemplate.AuxIsotope("changeGroup",t):console.log(e)}.bind(this))}},_updateManager:function(e){if(e.currentTarget){void 0!==e.preventDefault&&e.preventDefault();var t=r(e.currentTarget);this.$buttonParentEl=t.closest(".aux-updates-step"),this.$updatesListEl=this.$buttonParentEl.find(".aux-update-list"),this.$updatesList=this.$updatesListEl.find(".aux-item"),this._itemsCompleted=0,this._attemptsBuffer=0,this._currentItem=null,this._itemType=null,this._dataNonce=t.data("nonce"),this._buttonTarget=e.currentTarget,this.$currentNode=null,this.$updatesListEl.addClass("installing"),t.text(aux_setup_params.btnworks_text).addClass("disabled"),this._controlActions("off"),this._processUpdates()}},_processUpdates:function(){var e=this,t=!1;this.$currentNode&&(this.$currentNode.data("done_item")||(this._itemsCompleted++,this.$currentNode.data("done_item",1))),this.$updatesList.each(function(){null==e._currentItem||t?(r(this).addClass("work-in-progress"),e._currentItem=r(this).data("key"),e._itemType=r(this).data("type"),e.$currentNode=r(this),e._installUpdate(),t=!1):r(this).data("key")===e._currentItem&&(r(this).removeClass("work-in-progress"),t=!0)}),this._itemsCompleted>=this.$updatesList.length&&(this._controlActions("on"),this.$updatesListEl.removeClass("installing"),r(this._buttonTarget).text(aux_setup_params.activate_text).removeClass("disabled"),0==this.$updatesList.not(".aux-success").length&&this._refresh({currentTarget:this._buttonTarget}))},_installUpdate:function(){this._currentItem&&(this._ajaxData={action:"auxin_start_upgrading",key:this._currentItem,type:this._itemType,nonce:this._dataNonce},this._globalAJAX(function(e){this._updateActions(e)}.bind(this)))},_updateActions:function(e){"object"==typeof e&&e.success?(this.$currentNode.find(".column-status span").text(e.data.successMessage),this.$currentNode.addClass("aux-success").find(".aux-check-column").remove(),this.$currentNode.find(".check-column").append("<i class='aux-success-icon auxicon-check-mark-circle-outline'></i>")):this.$currentNode.addClass("aux-error").find(".column-status span").text(e.data.errorMessage),this._processUpdates()},_stepManager:function(e){if(e.currentTarget){void 0!==e.preventDefault&&e.preventDefault();var t=r(e.currentTarget),n=this.$modalElement.find(".aux-steps-col");if(this._ajaxData={action:"aux_step_manager",next_step:t.data("next-step"),nonce:t.data("step-nonce"),args:t.data("args"),next_action:t.data("next-action"),demo_id:t.data("demo-id"),plugins:t.data("demo-plugins")},n.addClass("aux-step-in-progress"),this._controlActions("off"),void 0!==t.data("demo-id")){var a=t.closest(".aux-setup-demo-actions");a.find(".aux-return-back").addClass("hide"),a.find(".aux-progress").removeClass("hide"),a.find(".aux-progress .aux-big").css("z-index",1)}this._globalAJAX(function(e){null!==e&&e.success?(n.removeClass("aux-step-in-progress").html(e.data.markup),this._ajaxData.next_action&&this._tempManager({currentTarget:this._modalButton})):console.log(e),this._controlActions("on")}.bind(this))}},_tempManager:function(e){if(e.currentTarget){void 0!==e.preventDefault&&e.preventDefault();var t=r(e.currentTarget),n=null!=this.$modalElement?this.$modalElement.find(".aux-steps-col"):null;this._ajaxData={action:"auxin_templates_data",verify:t.data("nonce"),ID:t.data("template-id"),type:t.data("template-type"),tmpl:t.data("template-page-tmpl"),status:t.data("status-type"),title:t.data("template-title")},"copy"===this._ajaxData.status&&t.addClass("aux-button-loading"),this._controlActions("off"),this._globalAJAX(function(e){null!==e&&e.success?"copy"===e.data.status?(this._updateElementorLocalStorage(this._ajaxData.type,e.data.result.content),t.addClass("aux-button-success"),setTimeout(function(){t.removeClass("aux-button-success aux-button-loading")},1e3)):(t.data("status-type","copy").prop("data-status-type","copy").addClass("aux-copy-template aux-orange").removeClass("aux-import-template aux-has-next-action aux-green2").removeAttr("href"),t.find("span").text(e.data.label),t.next(".aux-more-button").removeClass("hide"),n.html(e.data.result)):n.html(e.data),this._controlActions("on")}.bind(this))}},_updateElementorLocalStorage:function(e,t){this._elStorage.transfer={type:"copy",elementsType:e,elements:t},localStorage.setItem("elementor",JSON.stringify(this._elStorage))},_demoManager:function(t){if(t.currentTarget){void 0!==t.preventDefault&&t.preventDefault();var e=r(t.currentTarget),n=e.closest(".aux-setup-demo-actions"),a=n.find(".aux-return-back"),s=n.find(".aux-progress"),i=this.$modalElement.find(".aux-install-demos"),o=this.$modalElement.find(".aux-install-demos-waiting");this._ajaxData={action:"auxin_demo_data",ID:e.data("import-id"),verify:e.data("nonce"),options:i.find(".aux-import-parts").serializeArray()},this.$progressBarLabelEl=s.find(".aux-progress-label"),i.addClass("hide"),o.removeClass("hide"),a.addClass("hide"),s.removeClass("hide"),this.$progressBarLabelEl.text("Getting Demo Data ..."),this._controlActions("off"),this._globalAJAX(function(e){null!==e&&e.success?this._demoImport({target:t.currentTarget,step:"download",message:"Downloading Media ...",index:null}):(console.log(e),i.removeClass("hide"),o.addClass("hide"),a.removeClass("hide"),s.addClass("hide"),this._controlActions("on"))}.bind(this))}},_demoImport:function(t){this._ajaxData={action:"import_step",step:t.step,index:t.index},this.$progressBarLabelEl.text(t.message),this._globalAJAX(function(e){null!==e&&e.success?"final"!==e.data.next?this._demoImport({target:t.target,step:e.data.next,message:e.data.message,index:e.data.hasOwnProperty("index")?e.data.index:""}):(this.$progressBarLabelEl.text(e.data.message),setTimeout(function(){this._controlActions("on"),this._stepManager({currentTarget:t.target})}.bind(this),1e3)):console.log(e)}.bind(this))},_uninstallDemo:function(e){if(e.currentTarget){void 0!==e.preventDefault&&e.preventDefault();var t=r(e.currentTarget),n=t.closest(".aux-setup-demo-actions");this._ajaxData={action:"aux_ajax_uninstall",id:t.data("demo-id"),key:r(this._modalButton).data("demo-key"),nonce:t.data("demo-nonce"),plugins:t.data("demo-plugins")},n.find(".aux-return-back").addClass("hide"),n.find(".aux-progress").removeClass("hide"),this._controlActions("off"),this._globalAJAX(function(e){n.find(".aux-return-back").removeClass("hide"),n.find(".aux-progress").addClass("hide"),null!==e&&e.success?(this.$modalElement.find(".aux-steps-col").html(e.data.markup),r(this._modalButton).removeClass("aux-uninstall aux-orange").addClass("aux-green2").text(e.data.button).attr("href",e.data.url)):console.log(e),this._controlActions("on")}.bind(this))}},_pluginManager:function(e){if(e.currentTarget){void 0!==e.preventDefault&&e.preventDefault();var t=r(e.currentTarget);this.$buttonParentEl=t.closest(".aux-has-required-plugins"),this.$pluginsListEl=this.$buttonParentEl.find(".aux-wizard-plugins"),this._selectedPluginsNum=this.$buttonParentEl.find('.aux-plugin input[name="plugin[]"]:checked').length,this._itemsCompleted=0,this._attemptsBuffer=0,this._currentItem=null,this._buttonTarget=e.currentTarget,this.$currentNode=null,this.$pluginsListEl.addClass("installing"),t.text(aux_setup_params.btnworks_text).addClass("disabled"),this._controlActions("off"),this._processPlugins()}},_processPlugins:function(){var e=this,t=!1,n=this.$buttonParentEl.find(".aux-plugin");this._pluginScrollTo(),this.$currentNode&&(this.$currentNode.data("done_item")||(this._itemsCompleted++,this.$currentNode.data("done_item",1)),this.$currentNode.find(".spinner").css("visibility","hidden")),n.each(function(){null==e._currentItem||t?r(this).find('input[name="plugin[]"]').is(":checked")&&(r(this).addClass("work-in-progress"),e._currentItem=r(this).data("slug"),e.$currentNode=r(this),e.$currentNode.find(".spinner").css("visibility","visible"),e._installPlugin(),t=!1):r(this).data("slug")===e._currentItem&&(r(this).removeClass("work-in-progress"),t=!0)}),this._itemsCompleted>=this._selectedPluginsNum&&(this._controlActions("on"),this.$buttonParentEl.find(".aux-wizard-plugins").removeClass("installing"),r(this._buttonTarget).text(aux_setup_params.activate_text),this.$buttonParentEl.find(".skip-next").text(aux_setup_params.nextstep_text),0==this.$buttonParentEl.find(".aux-plugin").not(".aux-success").length&&this.$buttonParentEl.hasClass("aux-modal-item")&&this._stepManager({currentTarget:this._buttonTarget}))},_installPlugin:function(){if(this._currentItem){var e=this.$buttonParentEl.find('.aux-wizard-plugins input[name="plugin[]"]:checked').map(function(){return r(this).val()}).get();this._ajaxData={action:"aux_setup_plugins",wpnonce:aux_setup_params.wpnonce,slug:this._currentItem,plugins:e},this._globalAJAX(function(e){this._pluginActions(e)}.bind(this))}},_pluginActions:function(t){"object"==typeof t&&t.success?(this.$currentNode.find(".column-status span").text(t.data.message),void 0!==t.data.url?this.currentItemHash==t.data.hash?(this.$currentNode.data("done_item",0).find(".column-status span").text("failed"),this.currentItemHash=null,this._installPlugin()):(this._ajaxUrl=t.data.url,this._ajaxData=t.data,this.currentItemHash=t.data.hash,this._globalAJAX(function(e){this._ajaxUrl=aux_setup_params.ajaxurl,this.$currentNode.find(".column-status span").text(t.data.message),this._installPlugin()}.bind(this))):(this.$currentNode.addClass("aux-success").find(".aux-check-column").remove(),this.$currentNode.find(".check-column").append("<i class='aux-success-icon auxicon-check-mark-circle-outline'></i>"),this._processPlugins())):1<this._attemptsBuffer?(this._attemptsBuffer=0,this.$currentNode.addClass("aux-error").find(".column-status span").text("Ajax Error!"),this._processPlugins()):(this.currentItemHash=null,this._attemptsBuffer++,this._installPlugin())},_pluginScrollTo:function(){r(".aux-modal-item .aux-wizard-plugins").each(function(){r(this).scrollTo(r(this).find(".work-in-progress"),400)})},_controlActions:function(e){switch(e){case"on":r(t).off("beforeunload"),r(n).on("keydown keypress keyup"),r(".aux-pp-close").removeClass("hide");break;default:r(t).on("beforeunload",function(){return aux_setup_params.onbefore_text}),r(n).off("keydown keypress keyup"),r(".aux-pp-close").addClass("hide")}},_callIsotope:function(){this.$isotopeTemplate=r(".aux-isotope-templates").AuxIsotope({itemSelector:".aux-iso-item",revealTransitionDuration:0,revealBetweenDelay:0,revealTransitionDelay:0,hideTransitionDuration:0,hideBetweenDelay:0,hideTransitionDelay:0,updateUponResize:!0,transitionHelper:!0,filters:".aux-filters",slug:"filter",imgSizes:!0}),this.$isotopeList=r(".aux-isotope-list").AuxIsotope({itemSelector:".aux-iso-item",revealTransitionDuration:600,revealBetweenDelay:50,revealTransitionDelay:0,hideTransitionDuration:300,hideBetweenDelay:0,hideTransitionDelay:0,updateUponResize:!0,transitionHelper:!0,filters:".aux-filters",slug:"filter",imgSizes:!0}),this.$isotopePlugins=r(".aux-isotope-plugins-list").AuxIsotope({itemSelector:".aux-iso-item",revealTransitionDuration:600,revealBetweenDelay:50,revealTransitionDelay:50,hideTransitionDuration:100,hideBetweenDelay:0,hideTransitionDelay:0,updateUponResize:!0,transitionHelper:!0,filters:".aux-filters",slug:"filter",imgSizes:!0})},_lazyloadConfig:function(){n.addEventListener("lazyloaded",function(e){r(t).trigger("resize")})},_manipulations:function(){r(".aux-togglable").AuxinToggleSelected(),r('.aux-wizard-plugins input[name="plugin[]"]').each(function(){r(this).is(":checked")?r(this).closest(".aux-table-row").addClass("is-checked"):r(this).closest(".aux-table-row").removeClass("is-checked"),r(this).on("click",function(){r(this).is(":checked")?r(this).closest(".aux-table-row").addClass("is-checked"):r(this).closest(".aux-table-row").removeClass("is-checked")})}),r(".aux-plugins-step input[type=checkbox]").on("change",function(){0<r('.aux-wizard-plugins input[name="plugin[]"]').filter(":checked").length?r(".install-plugins").removeClass("disabled"):r(".install-plugins").addClass("disabled")}),r(n).on("click",".aux-install-demos input[type=checkbox]",function(e){0<r(".featherlight-content").find("input[type=checkbox]").filter(":checked").length?r(".featherlight-content").find(".button-next").removeClass("aux-next-step").data("callback","install_demos").attr("data-callback","install_demos").text(aux_setup_params.makedemo_text):r(".featherlight-content").find(".button-next").addClass("aux-next-step").text(aux_setup_params.nextstep_text).data("callback",null).removeAttr("data-callback")}),r(n).on("click",".aux-radio",function(e){r(this).closest("form").find(".aux-border").removeClass("is-checked"),r(this).parent(".aux-border").addClass("is-checked")}),r(n).on("click",".aux-more-button",function(e){e.preventDefault(),r(this).next(".aux-more-items").toggleClass("aux-display")})},_verifyEnvatoElementsToken:function(e){if(e.currentTarget){var t=r(".token-field").val(),n=this,a=this.$modalElement.find(".aux-steps-col");this._buttonTarget=e.currentTarget,this._ajaxData={action:"aux_verify_envato_elements_token",token:t},a.addClass("aux-step-in-progress"),this._globalAJAX(function(e){e.status?(a.removeClass("aux-step-in-progress"),r(".token-wrapper .result").addClass("success").text(e.message),n._stepManager({currentTarget:n._buttonTarget})):(a.removeClass("aux-step-in-progress"),r(".token-wrapper .result").addClass("error").text(e.message))})}}}),r.fn[a]=function(e){return this.each(function(){new i(this,e)})}}(jQuery,window,document);